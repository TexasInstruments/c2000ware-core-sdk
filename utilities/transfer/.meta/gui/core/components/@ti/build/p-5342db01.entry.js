import{r as t,c as e,h as o,g as r}from"./p-823ca21f.js";import{GcConsole as i}from"../gc-core-assets/lib/GcConsole";import{GcFiles as n}from"../gc-core-assets/lib/GcFiles";import{GcLocalStorage as a}from"../gc-core-assets/lib/GcLocalStorage";import{ActionRegistry as c}from"../gc-widget-menu/lib/ActionRegistry";import{GcUtils as s}from"../gc-core-assets/lib/GcUtils";const l=':host::-webkit-scrollbar,::-webkit-scrollbar{width:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px));height:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px))}:host::-webkit-scrollbar-track,::-webkit-scrollbar-track{background:var(--gc-scrollbar-track-background-color, var(--theme-scroll-track-color, rgba(35, 31, 32, 0.2)))}:host::-webkit-scrollbar-thumb,::-webkit-scrollbar-thumb{background:var(--gc-scrollbar-thumb-background-color, var(--theme-scroll-thumb-color, rgba(35, 31, 32, 0.65)))}:host::-webkit-scrollbar-thumb:hover,::-webkit-scrollbar-thumb:hover{background:var(--gc-scrollbar-thumb-background-color-hover, var(--theme-scroll-thumb-color-hover, rgba(35, 31, 32, 0.8)))}:host::-webkit-scrollbar-corner,::-webkit-scrollbar-corner{background:rgba(0, 0, 0, 0)}:host(:focus),:host *:focus{outline:none}:host{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-family:var(--gc-font-family, var(--theme-font-family, "Roboto", "Open Sans", "Segoe UI", "Tahoma", "sans-serif"));font-size:var(--gc-font-size, var(--theme-font-size, 14px));font-weight:400;color:var(--gc-font-color, var(--gc-font-color, var(--theme-font-color, #555555)));margin:var(--gc-margin, var(--theme-margin, 5px));display:inline-block;box-sizing:border-box}:host .user-select{-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text;user-select:text}:host .text-link{color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-text-decoration-hover:underline;--gc-cursor-hover:pointer}:host .text-link:not([disabled]):hover{text-decoration:underline;cursor:pointer}:host([hidden]){display:none !important}:host([readonly]) *{pointer-events:none}:host([disabled]) *{cursor:not-allowed}:host([caption]:not([caption=""])){margin-top:calc(var(--gc-margin, var(--theme-margin, 5px)) + var(--gc-caption-font-size, var(--theme-caption-font-size, 14px)) + 8px)}:host([caption]:not([caption=""])),:host([info-text]:not([info-text=""])){overflow:visible;position:relative}:host([caption=""][info-text]:not([info-text=""])),:host([info-text]:not([info-text=""]):not([caption])){margin-right:calc(var(--gc-margin, var(--theme-margin, 5px)) + 22px)}#elementWrapper{box-sizing:content-box;height:100%;width:100%;display:flex;align-items:center;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container{position:relative;display:flex;flex-direction:column;width:100%;height:100%;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container .header-container.top{top:var(--gc-header-container-top, calc(0px - 8px - var(--gc-caption-font-size, var(--theme-caption-font-size, 14px))));flex-direction:row}.root-container .header-container.side{right:-22px;flex-direction:column;height:inherit}.root-container .header-container{position:absolute;display:flex;align-items:center}.root-container .header-container .icon,.root-container .header-container gc-widget-icon{cursor:default;margin:auto;height:18px;width:18px;display:block;--gc-color:var(--gc-caption-info-color, var(--theme-caption-info-color, #98999b))}.root-container .header-container .caption{flex:1;cursor:default;white-space:nowrap;margin-right:2px;font-weight:var(--gc-caption-font-weight, var(--theme-caption-font-weight, 400));font-size:var(--gc-caption-font-size, var(--theme-caption-font-size, 14px));color:var(--gc-caption-font-color, var(--theme-caption-font-color, #999999))}.invisible{visibility:hidden}:host{-webkit-user-select:auto;-khtml-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;-o-user-select:auto;user-select:auto}#markdown{width:inherit;height:inherit;overflow:auto}code{color:var(--gc-font-color, var(--theme-font-color, #555555));font-style:italic}pre{box-shadow:-2px 0px 0px 0px #00bbcc, 0px 0px 0px 1px #e5e5e5;background-color:var(--gc-background-color, var(--theme-background-color, #ffffff));background-image:linear-gradient(transparent 50%, rgba(237, 247, 248, 0.5) 50%);background-size:3em 3em;padding:0 1em;line-height:1.5;overflow:auto}:host{margin:auto}:host gc-widget-dialog{width:650px;height:650px}:host #icon-min,:host #icon-close{--gc-color:"white",\n      width: 40px}';const h=new i("gc-widget-readme");let g=class{constructor(o){t(this,o);this.cssPropertyChanged=e(this,"css-property-changed",7);this.expanded=false;this.getDontShowReadMeCheckbox=()=>a.getItem(`${this.projectName}_dontshowreadmeagain`);this.setDontShowReadMeCheckbox=t=>{a.setItem(`${this.projectName}_dontshowreadmeagain`,t.detail.value)};this._refresh=0;this.hidden=false}onExpandedChanged(t){const e=document.querySelector("#viewport");if(t){this.dialogEl.setCSSProperty("width",`${e.clientWidth}px`);this.dialogEl.setCSSProperty("height",`${e.clientHeight}px`)}else{this.dialogEl.setCSSProperty("width","650px");this.dialogEl.setCSSProperty("height","650px")}}connectedCallback(){c.registerAction("cmd_open_readme",{run:async()=>{if(this.dialogEl)await this.dialogEl.open();else h.error("No README.md file found")}})}disconnectedCallback(){c.unregisterAction("cmd_open_readme")}componentDidRender(){if(!(this.getDontShowReadMeCheckbox()||s.isInDesigner||s.isInPreview)){if(this.dialogEl){this.dialogEl.open(true)}}}async componentWillRender(){this.projectName?null:this.projectName=await n.getProjectName()}render(){return o("gc-widget-dialog",{id:"readmeElementDialog",heading:"README.md",ref:t=>this.dialogEl=t},o("gc-widget-markdown",{file:"./README.md"}),o("gc-widget-checkbox",{checked:this.getDontShowReadMeCheckbox(),slot:"action-bar",id:"dontShowCheckbox","onChecked-changed":this.setDontShowReadMeCheckbox,label:"Don't show again"}),o("gc-widget-button",{id:"READMEOkButton",class:"dialog-confirm",slot:"action-bar",label:"OK"}),o("gc-widget-button",{icon:this.expanded?"round:action:close_fullscreen":"round:action:open_in_full",slot:"icon-area",id:"readmeWinToggle",onClick:()=>this.expanded=!this.expanded}),o("gc-widget-button",{icon:"round:navigation:close",slot:"icon-area",id:"readmeWinClose",class:"dialog-dismiss"}))}async setCSSProperty(t,e){e=e.trim();if(await this.getCSSProperty(t)!==e){this.el.style.setProperty(t,e);this.cssPropertyChanged.emit({name:t,value:e})}}async getCSSProperty(t){return getComputedStyle(this.el).getPropertyValue(t).trim()}async refresh(){this._refresh++}get el(){return r(this)}static get watchers(){return{expanded:["onExpandedChanged"]}}};g.style=l;export{g as gc_widget_readme};
//# sourceMappingURL=p-5342db01.entry.js.map